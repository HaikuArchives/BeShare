<!--This file created 5/6/00 8:02 PM by Claris Home Page version 1.0--><HTML><HEAD>   <TITLE>ArrowButton</TITLE>   <META NAME=GENERATOR CONTENT="Claris Home Page 1.0">   <X-SAS-WINDOW TOP=82 BOTTOM=768 LEFT=163 RIGHT=891></HEAD><BODY BGCOLOR="#FFFFFF"><H1>DocumentApp</H1><P>&nbsp;</P><P>Derived from: <B>public BApplication</B></P><P>Declared in: <B>DocumentApp.h</B></P><P>Library: <B>none</B></P><P><HR></P><H2><A NAME="Overview"></A>Overview</H2><P>Augments <TT>BApplication</TT> to provide facilities forregistering windows and quitting when the last window closes. Alsoallows registration of "process holds" which will prevent theapplication from quitting until all worker threads holding such ahold have finished. When used with<TT><A HREF="FileDocumentWindow.html">FileDocumentWindow</A></TT>while the application is quitting, it handles stalling and resumingthe quit process without tying up the main application thread whilechild windows which have modified content prompt the user whether toSave, Don't Save, or Cancel.</P><P><HR></P><H2><A NAME="Constructor and Destructor"></A>Constructor andDestructor</H2><P><HR></P><H3><A NAME="DocumentApp()"></A>DocumentApp()</H3><P>&nbsp;</P><PRE>      DocumentApp(const char* signature)</PRE><P>&nbsp;</P><P>Creates a DocumentApp with the signature specified.</P><P><B>See also: </B>the BApplication constructor</P><P><HR></P><H3><A NAME="~DocumentApp()"></A>~DocumentApp()</H3><P>&nbsp;</P><PRE>      ~DocumentApp()</PRE><P>&nbsp;</P><P>Does nothing</P><P><HR></P><H2><A NAME="Member Functions"></A>Member Functions</H2><P>&nbsp;</P><P><HR></P><H3><A NAME="CancelQuitProcess()"></A>CancelQuitProcess()</H3><P>&nbsp;</P><PRE>      void CancelQuitProcess()</PRE><P>&nbsp;</P><P>Cancels the quit process if the application is waiting for awindow to get a response from the user to a Save, Don't Save, Camcelrequest.</P><P><HR></P><H3><A NAME="IsQuitInProgress()"></A>IsQuitInProgress()</H3><P>&nbsp;</P><PRE>      bool IsQuitInProgress()</PRE><P>&nbsp;</P><P>Returns true if the application is waiting for the user to replyto a Save, Don't Save, Cancel request for one of its windows, but theapplication is in the process of quitting.</P><P><HR></P><H3><A NAME="QuitRequested()"></A>QuitRequested()</H3><P>&nbsp;</P><PRE>      virtual bool QuitRequested<TT>(</TT>)</PRE><P>&nbsp;</P><P>Initiates the quit process so that when used with a<TT><A HREF="FileDocumentWindow.html">FileDocumentWindow</A></TT>,even if the window returns false from QuitRequested, if the windowreturns false so as not to stall its message loop while waiting forthe user to reply to a Save, Don't Save, Cancel request, if the userselects an option other than Cancel, the quit process will be resumedfor the remaining windows, while if the user selects Cancel, the quitprocess will be terminated.</P><P><HR></P><H3><A NAME="RegisterWindow()"></A>RegisterWindow(),<A NAME="UnregisterWindow()"></A>UnregisterWindow() ,<A NAME="ProcessHold()"></A> ProcessHold(),<A NAME="ProcessDone()"></A> ProcessDone(),<A NAME="CountRegWindProcHolds()"></A> CountRegWindProcHolds()</H3><P>&nbsp;</P><PRE>      void RegisterWindow()      void UnregisterWindow()      void ProcessHold()      void ProcessDone()      int32 CountRegWindProcHolds()&nbsp;</PRE><P>RegisterWindow() or ProcessHold() informs the application that awindow or background thread which should prevent the application fromquitting has been created. When the last such window or process hascalled UnregisterWindow() or ProcessDone(), if there are no remainingwindows or background threads, the application will quit.CoundRegWindProcHolds() returns the current number of registeredwindows and process holds.</P><P><HR>&nbsp;</P><P>By Brian Tietz</P><P>Copyright 2000</P><P>Bug reports (including documentation errors) and feature requestscan be sent to<A HREF="mailto:briant@timelinevista.com">briant@timelinevista.com</A>.</P><P>&nbsp;</P><P>&nbsp;</P></BODY></HTML>